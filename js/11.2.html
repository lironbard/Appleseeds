<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 11.2</title>
</head>
<body>

    <script>

        const school = {
        teachers: [
        {
        id: 1,
        name: "Pinchas",
        subjects: ["chemistry", "biology", "physics"],
        students: [],
        capacityLeft: 3,
        },
        {
        id: 2,
        name: "Williams",
        subjects: ["history", "ethics"],
        students: [],
        capacityLeft: 2,
        },
        ],
        students: [
        {
        id: 10,
        name: "Jennifer",
        age: 20,
        },
        {
        id: 11,
        name: "Howard",
        age: 23,
        },
        {
        id: 12,
        name: "Old-Timmy",
        age: 86,
        },
        {
        id:13,
        name: "Houston",
        age: 21,
        },
        ], 
        };


        // Take the school object and create the following methods to
        // that object:
        // 1. A method called “findPerson” that takes two arguments,
        // a type (either a student or teacher), and an id.
        // It will return a particular object of that person.

        school.findPerson = (type,id) => {
            return school[type].find((element) => {
                console.log(element);
            });
        };

       // school.findPerson("teachers",10);
       // school.findPerson("students",10);

        school.findPerson = (type,id) => {
            return school[type].find((element) => {
                //console.log(element);
                return element.id === id;
            });
        };

        console.log(school.findPerson("students",10));


        // 2. A method called “assignStudent” that takes two
        // arguments, a student’s id and a subject.
        // Assign all of the students to the first available teacher who
        // teaches that subject and who is not in full capacity. If all of
        // the teachers are in full capacity log to the console “Sorry,
        // no available teachers left”.

        school.assignStudent = (id, subjects) => {
            const students = school.findPerson("students", 12);
            //console.log(students);
            const teacher = school.teachers.find((teacher) => {
                return teacher.subjects.includes("biology") && teacher.capacityLeft > 0;
                //console.log(teacher.subjects.includes("biology"));
                //return teachers.capacityLeft > 0;
            });
            if (teacher) {
                teacher.students.push(students);
                teacher.capacityLeft --;
                ////console.log(teacher);
            } else {
                console.log("Sorry, no available teachers left");
            }
            //console.log(teacher);
        }

        //school.assignStudent(2,"biology");

        // 3. A method called “assignTeachersSubject” that takes two
        // arguments, the teacher’s id, a new subject.
        // Assign the new subject to that particular teacher if that
        // subject doesn’t exist in their array of subjects

        school.assignTeachersSubject = (id, subjects) => {
            const teacher = school.findPerson("teachers", id);
            console.log(teacher);
            teacher.subjects.push(subjects)
        }

        school.assignTeachersSubject(1,"C++");
        console.log(teacher);

        // 4. Create a new method of anything you want.


    </script>
    
</body>
</html>